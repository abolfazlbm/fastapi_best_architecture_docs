import{_ as p,c as o,e as r,b as l,w as a,r as d,o as c,a as i,h as e}from"./app-BmTAx6X_.js";const g={};function A(y,s){const h=d("Icon"),k=d("CodeTabs");return c(),o("div",null,[s[4]||(s[4]=r(`<p>当进行前后端项目联调或服务器部署时，你通常会遇到跨域问题，不过没关系，你只需进入 <code>core/conf.py</code> 文件，修改 <code>CORS_ALLOWED_ORIGINS</code> 配置即可，就可以轻松解决 CORS 相关问题</p><h2 id="本地" tabindex="-1"><a class="header-anchor" href="#本地"><span>本地</span></a></h2><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" style="--shiki-dark:#abb2bf;--shiki-light:#383A42;--shiki-dark-bg:#282c34;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes one-dark-pro one-light vp-code"><code class="language-py"><span class="line"><span style="--shiki-dark:#D19A66;--shiki-light:#383A42;">CORS_ALLOWED_ORIGINS</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">: list[</span><span style="--shiki-dark:#56B6C2;--shiki-light:#0184BC;">str</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">] </span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;"> [</span></span>
<span class="line"><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">        &#39;http://localhost:5173&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">,  </span><span style="--shiki-dark:#7F848E;--shiki-dark-font-style:italic;--shiki-light:#A0A1A7;--shiki-light-font-style:italic;"># 前端访问地址，末尾不带 &#39;/&#39;</span></span>
<span class="line"><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">    ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="服务器" tabindex="-1"><a class="header-anchor" href="#服务器"><span>服务器</span></a></h2>`,4)),l(k,{id:"10",data:[{id:'<Icon name="arcticons:http-custom" />HTTP'},{id:'<Icon name="ic:outline-https" /> HTTPS'}]},{title0:a(({value:t,isActive:n})=>[i("span",null,[l(h,{name:"arcticons:http-custom"}),s[0]||(s[0]=e("HTTP"))])]),title1:a(({value:t,isActive:n})=>[i("span",null,[l(h,{name:"ic:outline-https"}),s[1]||(s[1]=e(" HTTPS"))])]),tab0:a(({value:t,isActive:n})=>s[2]||(s[2]=[i("div",{class:"language-py line-numbers-mode","data-highlighter":"shiki","data-ext":"py",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-py"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D19A66","--shiki-light":"#383A42"}},"CORS_ALLOWED_ORIGINS"),i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}},": list["),i("span",{style:{"--shiki-dark":"#56B6C2","--shiki-light":"#0184BC"}},"str"),i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}},"] "),i("span",{style:{"--shiki-dark":"#56B6C2","--shiki-light":"#383A42"}},"="),i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}}," [")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}},"      '"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"},class:"highlighted-word"},"http"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}},"://服务器ip:端口号'"),i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}},",  "),i("span",{style:{"--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic","--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic"}},"# 前端访问地址，末尾不带 '/'，当端口号为 80 时，不要添加端口号")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}},"  ]")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab1:a(({value:t,isActive:n})=>s[3]||(s[3]=[i("div",{class:"language-py line-numbers-mode","data-highlighter":"shiki","data-ext":"py",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-py"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#D19A66","--shiki-light":"#383A42"}},"CORS_ALLOWED_ORIGINS"),i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}},": list["),i("span",{style:{"--shiki-dark":"#56B6C2","--shiki-light":"#0184BC"}},"str"),i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}},"] "),i("span",{style:{"--shiki-dark":"#56B6C2","--shiki-light":"#383A42"}},"="),i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}}," [")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}},"      '"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"},class:"highlighted-word"},"https"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}},"://域名'"),i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}},",  "),i("span",{style:{"--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic","--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic"}},"# 前端访问地址，末尾不带 '/'")]),e(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#ABB2BF","--shiki-light":"#383A42"}},"  ]")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),s[5]||(s[5]=r('<h2 id="局域网" tabindex="-1"><a class="header-anchor" href="#局域网"><span>局域网</span></a></h2><p>此方式取决于前端项目是否配置了局域网服务</p><div class="language-py line-numbers-mode" data-highlighter="shiki" data-ext="py" style="--shiki-dark:#abb2bf;--shiki-light:#383A42;--shiki-dark-bg:#282c34;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes one-dark-pro one-light vp-code"><code class="language-py"><span class="line"><span style="--shiki-dark:#D19A66;--shiki-light:#383A42;">CORS_ALLOWED_ORIGINS</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">: list[</span><span style="--shiki-dark:#56B6C2;--shiki-light:#0184BC;">str</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">] </span><span style="--shiki-dark:#56B6C2;--shiki-light:#383A42;">=</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;"> [</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;">&#39;*&#39;</span><span style="--shiki-dark:#ABB2BF;--shiki-light:#383A42;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>当将 <code>CORS_ALLOWED_ORIGINS</code> 配置为 <code>[&#39;*&#39;]</code> 时，socketio 将无法正常工作，这是由于它们的配置方式不同所导致的</p><p>这里有一个相关 PR: <a href="https://github.com/miguelgrinberg/python-engineio/pull/410" target="_blank" rel="noopener noreferrer">python-engineio/pull/410</a></p><p>虽然它已被合并，但是并没有发布新版本，截至目前，您需要在 <code>backend/common/socketio/server.py</code> 文件中修改以下内容：</p><p><code>cors_allowed_origins=settings.CORS_ALLOWED_ORIGINS</code> -&gt; <code>cors_allowed_origins=&#39;*&#39;</code></p></div>',5))])}const m=p(g,[["render",A]]),u=JSON.parse(`{"path":"/backend/reference/CORS.html","title":"跨域","lang":"zh-CN","frontmatter":{"title":"跨域","description":"当进行前后端项目联调或服务器部署时，你通常会遇到跨域问题，不过没关系，你只需进入 core/conf.py 文件，修改 CORS_ALLOWED_ORIGINS 配置即可，就可以轻松解决 CORS 相关问题 本地 服务器 局域网 此方式取决于前端项目是否配置了局域网服务 注意事项 注意 当将 CORS_ALLOWED_ORIGINS 配置为 ['*']...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"跨域\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://fastapi-practices.github.io/fastapi_best_architecture_docs/fastapi_best_architecture_docs/backend/reference/CORS.html"}],["meta",{"property":"og:site_name","content":"FastAPI Best Architecture"}],["meta",{"property":"og:title","content":"跨域"}],["meta",{"property":"og:description","content":"当进行前后端项目联调或服务器部署时，你通常会遇到跨域问题，不过没关系，你只需进入 core/conf.py 文件，修改 CORS_ALLOWED_ORIGINS 配置即可，就可以轻松解决 CORS 相关问题 本地 服务器 局域网 此方式取决于前端项目是否配置了局域网服务 注意事项 注意 当将 CORS_ALLOWED_ORIGINS 配置为 ['*']..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"readingTime":{"minutes":0.94,"words":281},"git":{"createdTime":1726995109000},"autoDesc":true,"filePathRelative":"backend/reference/CORS.md","headers":[],"categoryList":[{"id":"b43fdd","sort":10000,"name":"backend"},{"id":"4b6340","sort":10002,"name":"reference"}],"bulletin":true}`);export{m as comp,u as data};
