import{_ as u,c as b,a as i,e as o,h as t,b as n,w as l,r as h,o as A}from"./app-BmTAx6X_.js";const v="/fastapi_best_architecture_docs/images/use_this_template.png",m={},c={class:"hint-container caution"},F={class:"hint-container tip"},y={class:"vp-steps"},f={class:"vp-steps"};function x(C,s){const r=h("RouteLink"),d=h("Badge"),p=h("Tabs"),k=h("Icon"),g=h("CodeTabs");return A(),b("div",null,[i("div",c,[s[3]||(s[3]=i("p",{class:"hint-container-title"},"警告",-1)),i("p",null,[s[1]||(s[1]=t("fba 仅适用于资深 Python 后端开发人员，如果您是非资深用户，我们建议您从 ")),n(r,{to:"/backend/summary/fsm.html"},{default:l(()=>s[0]||(s[0]=[t("精简版")])),_:1,__:[0]}),s[2]||(s[2]=t(" 开始学习"))])]),s[51]||(s[51]=i("h2",{id:"本地开发",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#本地开发"},[i("span",null,"本地开发")])],-1)),i("div",F,[s[8]||(s[8]=i("p",{class:"hint-container-title"},"提示",-1)),i("ul",null,[i("li",null,[s[5]||(s[5]=t("雪花主键 ID 用户，请先移步到 ")),n(r,{to:"/backend/reference/pk.html"},{default:l(()=>s[4]||(s[4]=[t("切换主键")])),_:1,__:[4]})]),i("li",null,[s[7]||(s[7]=t("PostgreSQL 用户，请先移步到 ")),n(r,{to:"/backend/reference/db.html"},{default:l(()=>s[6]||(s[6]=[t("切换数据库")])),_:1,__:[6]})])])]),i("div",y,[i("ol",null,[s[35]||(s[35]=i("li",null,[i("p",null,"准备本地环境"),i("ul",null,[i("li",null,"Python 3.10+"),i("li",null,"MySQL 8.0+ 或 PostgreSQL 16.0 +"),i("li",null,[i("p",null,"Redis 推荐最新稳定版")])])],-1)),i("li",null,[i("p",null,[s[9]||(s[9]=t("准备 Git 仓库 ")),n(d,{type:"warning",text:"二选一"})]),n(p,{id:"48",data:[{id:"拉取源代码"},{id:"创建模板仓库"}]},{title0:l(({value:e,isActive:a})=>s[10]||(s[10]=[t("拉取源代码")])),title1:l(({value:e,isActive:a})=>s[11]||(s[11]=[t("创建模板仓库")])),tab0:l(({value:e,isActive:a})=>s[12]||(s[12]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"git"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," clone"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," https://github.com/fastapi-practices/fastapi_best_architecture.git")])])])],-1)])),tab1:l(({value:e,isActive:a})=>s[13]||(s[13]=[i("p",null,[t("此项目支持创建模板仓库，意味着，你可以直接创建一个非 fork 的个人仓库，如图所示，进入此项目 GitHub 首页， 使用 "),i("code",null,"use this template"),t(" 按钮创建即可，创建完成之后，使用 "),i("code",null,"git clone"),t(" 命令拉取你自己的仓库即可")],-1),i("p",null,[i("img",{src:v,alt:"use_this_template"})],-1)])),_:1})]),i("li",null,[s[18]||(s[18]=i("p",null,"安装依赖",-1)),s[19]||(s[19]=i("div",{class:"hint-container warning"},[i("p",{class:"hint-container-title"},"注意"),i("p",null,[t("此项目使用 uv 作为项目管理器，您需要先 "),i("a",{href:"https://docs.astral.sh/uv/getting-started/installation/",target:"_blank",rel:"noopener noreferrer"},"安装 uv"),t("， 如果您本地已经存在 uv, 建议将其升级至最新版本")])],-1)),s[20]||(s[20]=i("p",null,"拉取项目到本地后，在项目根目录打开终端，执行以下命令安装架构依赖",-1)),n(g,{id:"74",data:[{id:'<Icon name="material-icon-theme:uv" />uv - sync'},{id:'<Icon name="material-icon-theme:uv" />uv - pip'}]},{title0:l(({value:e,isActive:a})=>[i("span",null,[n(k,{name:"material-icon-theme:uv"}),s[14]||(s[14]=t("uv - sync"))])]),title1:l(({value:e,isActive:a})=>[i("span",null,[n(k,{name:"material-icon-theme:uv"}),s[15]||(s[15]=t("uv - pip"))])]),tab0:l(({value:e,isActive:a})=>s[16]||(s[16]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"uv"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," sync"),i("span",{style:{"--shiki-dark":"#D19A66","--shiki-light":"#986801"}}," --frozen")])])])],-1)])),tab1:l(({value:e,isActive:a})=>s[17]||(s[17]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"uv"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," pip"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," install"),i("span",{style:{"--shiki-dark":"#D19A66","--shiki-light":"#986801"}}," -r"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," requirements.txt")])])])],-1)])),_:1})]),s[36]||(s[36]=o('<li><p>创建数据库：<code>fba</code>，选择 utf8mb4 编码（PostgreSQL 用户可忽略编码）</p></li><li><p>启动 Redis</p></li><li><p>env</p><p>在 <code>backend</code> 目录打开终端，执行以下命令创建环境变量文件</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-dark:#abb2bf;--shiki-light:#383A42;--shiki-dark-bg:#282c34;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes one-dark-pro one-light vp-code"><code class="language-shell"><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">touch</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;"> .env</span></span></code></pre></div><p>将初始化环境变量配置拷贝到环境变量文件中</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-dark:#abb2bf;--shiki-light:#383A42;--shiki-dark-bg:#282c34;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes one-dark-pro one-light vp-code"><code class="language-shell"><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">cp</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;"> .env.example</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;"> .env</span></span></code></pre></div></li><li><p>按需修改配置文件 <code>backend/core/conf.py</code> 和 <code>.env</code></p></li>',4)),i("li",null,[i("p",null,[s[21]||(s[21]=t("创建数据库表 ")),n(d,{type:"warning",text:"二选一"})]),n(p,{id:"115",data:[{id:"自动创建"},{id:"Alembic 迁移"}]},{title0:l(({value:e,isActive:a})=>s[22]||(s[22]=[t("自动创建")])),title1:l(({value:e,isActive:a})=>s[23]||(s[23]=[t("Alembic 迁移")])),tab0:l(({value:e,isActive:a})=>s[24]||(s[24]=[i("p",null,"跳过此步骤，启动 fba 后将自动创建",-1)])),tab1:l(({value:e,isActive:a})=>s[25]||(s[25]=[i("p",null,"生成迁移文件",-1),i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"alembic"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," revision"),i("span",{style:{"--shiki-dark":"#D19A66","--shiki-light":"#986801"}}," --autogenerate")])])])],-1),i("p",null,"执行迁移",-1),i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"alembic"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," upgrade"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," head")])])])],-1)])),_:1})]),i("li",null,[i("p",null,[s[26]||(s[26]=t("启动 celery worker, beat 和 flower ")),n(d,{type:"warning",text:"此步骤为可选，可直接跳过"})]),s[33]||(s[33]=i("p",null,[t("在 "),i("code",null,"根目录"),t(" 或 "),i("code",null,"backend 目录"),t(" 打开终端，执行以下命令启动 celery 相关服务")],-1)),n(g,{id:"140",data:[{id:"Worker"},{id:"Beat"},{id:"Flower"}]},{title0:l(({value:e,isActive:a})=>s[27]||(s[27]=[i("span",null,"Worker",-1)])),title1:l(({value:e,isActive:a})=>s[28]||(s[28]=[i("span",null,"Beat",-1)])),title2:l(({value:e,isActive:a})=>s[29]||(s[29]=[i("span",null,"Flower",-1)])),tab0:l(({value:e,isActive:a})=>s[30]||(s[30]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," celery"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," worker")])])])],-1)])),tab1:l(({value:e,isActive:a})=>s[31]||(s[31]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," celery"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," beat")])])])],-1)])),tab2:l(({value:e,isActive:a})=>s[32]||(s[32]=[i("div",{class:"language-shell","data-highlighter":"shiki","data-ext":"shell",style:{"--shiki-dark":"#abb2bf","--shiki-light":"#383A42","--shiki-dark-bg":"#282c34","--shiki-light-bg":"#FAFAFA"}},[i("pre",{class:"shiki shiki-themes one-dark-pro one-light vp-code"},[i("code",{class:"language-shell"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#61AFEF","--shiki-light":"#4078F2"}},"fba"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," celery"),i("span",{style:{"--shiki-dark":"#98C379","--shiki-light":"#50A14F"}}," flower")])])])],-1)])),_:1}),s[34]||(s[34]=i("div",{class:"hint-container warning"},[i("p",{class:"hint-container-title"},"注意"),i("p",null,"如果从未执行过以上命令，任务结果表将缺失，此时，无论从何处调用任务结果相关接口都会直接报错，直到至少启动一次 worker 和 beat 服务，相关接口将自动恢复正常")],-1))]),s[37]||(s[37]=o('<li><p>启动</p><p>在 <code>根目录</code> 或 <code>backend 目录</code> 打开终端，执行以下命令启动 FastAPI 服务</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-dark:#abb2bf;--shiki-light:#383A42;--shiki-dark-bg:#282c34;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes one-dark-pro one-light vp-code"><code class="language-shell"><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">fba</span><span style="--shiki-dark:#98C379;--shiki-light:#50A14F;"> run</span></span></code></pre></div></li><li><p>初始化测试数据</p><p>通过 <code>backend/sql/</code> 目录下对应主键模式的脚本初始化测试数据</p></li><li><p>打开浏览器访问：<a href="http://127.0.0.1:8000/docs" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8000/docs</a></p></li>',3))])]),s[52]||(s[52]=i("h2",{id:"开发流程",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#开发流程"},[i("span",null,"开发流程")])],-1)),s[53]||(s[53]=i("div",{class:"hint-container tip"},[i("p",{class:"hint-container-title"},"提示"),i("p",null,"仅供参考，实际以个人开发习惯为准")],-1)),i("div",f,[i("ol",null,[i("li",null,[i("p",null,[s[39]||(s[39]=t("定义数据库模型（")),n(r,{to:"/backend/reference/model.html"},{default:l(()=>s[38]||(s[38]=[t("model")])),_:1,__:[38]}),s[40]||(s[40]=t("）"))])]),i("li",null,[i("p",null,[s[42]||(s[42]=t("定义数据验证模型（")),n(r,{to:"/backend/reference/schema.html"},{default:l(()=>s[41]||(s[41]=[t("schema")])),_:1,__:[41]}),s[43]||(s[43]=t("）"))])]),i("li",null,[i("p",null,[s[45]||(s[45]=t("定义路由（")),n(r,{to:"/backend/reference/router.html"},{default:l(()=>s[44]||(s[44]=[t("router")])),_:1,__:[44]}),s[46]||(s[46]=t("）"))])]),s[50]||(s[50]=i("li",null,[i("p",null,"编写业务（service）")],-1)),i("li",null,[i("p",null,[s[48]||(s[48]=t("编写数据库操作（")),n(r,{to:"/backend/reference/CRUD.html"},{default:l(()=>s[47]||(s[47]=[t("crud")])),_:1,__:[47]}),s[49]||(s[49]=t("）"))])])])]),s[54]||(s[54]=o('<h2 id="单元测试" tabindex="-1"><a class="header-anchor" href="#单元测试"><span>单元测试</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>通过 <code>pytest</code> 运行单元测试，项目内仅提供了非常简易的 demo，并不是完整单元测试，如需要，请自行编写</p></div><div class="vp-steps"><ol><li><p>创建测试数据库 <code>fba_test</code>，选择 utf8mb4 编码，postgresql 用户可忽略编码</p></li><li><p>创建数据库表，利用工具创建 <code>fba</code> 库所有表的 DDL 脚本，再通过 <code>fba_test</code> 库执行</p></li><li><p>初始化测试数据，通过 <code>backend/sql/</code> 目录下对应主键模式的脚本初始化测试数据</p></li><li><p>在项目根目录打开终端，执行以下单元测试命令</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" style="--shiki-dark:#abb2bf;--shiki-light:#383A42;--shiki-dark-bg:#282c34;--shiki-light-bg:#FAFAFA;"><pre class="shiki shiki-themes one-dark-pro one-light vp-code"><code class="language-shell"><span class="line"><span style="--shiki-dark:#61AFEF;--shiki-light:#4078F2;">pytest</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> -vs</span><span style="--shiki-dark:#D19A66;--shiki-light:#986801;"> --disable-warnings</span></span></code></pre></div></li></ol></div>',3))])}const P=u(m,[["render",x]]),L=JSON.parse('{"path":"/backend/summary/quick-start.html","title":"快速开始","lang":"zh-CN","frontmatter":{"title":"快速开始","description":"警告 fba 仅适用于资深 Python 后端开发人员，如果您是非资深用户，我们建议您从 开始学习 本地开发 提示 雪花主键 ID 用户，请先移步到 PostgreSQL 用户，请先移步到 准备本地环境 Python 3.10+ MySQL 8.0+ 或 PostgreSQL 16.0 + Redis 推荐最新稳定版 准备 Git 仓库 安装依赖 注意...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"快速开始\\",\\"image\\":[\\"https://fastapi-practices.github.io/fastapi_best_architecture_docs/fastapi_best_architecture_docs/images/use_this_template.png\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://fastapi-practices.github.io/fastapi_best_architecture_docs/fastapi_best_architecture_docs/backend/summary/quick-start.html"}],["meta",{"property":"og:site_name","content":"FastAPI Best Architecture"}],["meta",{"property":"og:title","content":"快速开始"}],["meta",{"property":"og:description","content":"警告 fba 仅适用于资深 Python 后端开发人员，如果您是非资深用户，我们建议您从 开始学习 本地开发 提示 雪花主键 ID 用户，请先移步到 PostgreSQL 用户，请先移步到 准备本地环境 Python 3.10+ MySQL 8.0+ 或 PostgreSQL 16.0 + Redis 推荐最新稳定版 准备 Git 仓库 安装依赖 注意..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://fastapi-practices.github.io/fastapi_best_architecture_docs/fastapi_best_architecture_docs/images/use_this_template.png"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"readingTime":{"minutes":3.11,"words":933},"git":{"createdTime":1726501588000},"autoDesc":true,"filePathRelative":"backend/summary/quick-start.md","headers":[],"categoryList":[{"id":"b43fdd","sort":10000,"name":"backend"},{"id":"82d397","sort":10001,"name":"summary"}],"bulletin":true}');export{P as comp,L as data};
